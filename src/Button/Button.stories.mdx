import {Meta, Story, Preview, Props} from '@storybook/addon-docs/blocks';
import {withKnobs, select, boolean} from '@storybook/addon-knobs';
import {action} from '@storybook/addon-actions';
import Stack from '../Layout/Stack';
import Feather from 'react-native-vector-icons/Feather';
import Button from './Button';
import IconButton from './IconButton';
import {sizeArray} from '../util/prop-types';

<Meta title="Button" component={Button} />

# Button

A Button is a clickable view to carry out actions such as clearing user input or submitting the form.

# Usage

```js
import { Button } from 'react-native-design-system';

<Button onPress={() => this.handleChange())}>
  Press Me
</Button>
```

# Props

<Props of={Button} />

# Type

There are four types of button mainly: `default`, `round`, `outline` and `transparent`. You can pass boolean value `round={true}` for round button, `outline={true}` for outline button, `transparent={true}` for transparent button and nothing for default solid button.

<Preview>
  <Story name="type">
    <Stack>
      <Button onPress={action('pressed')}>Press Me</Button>
      <Button round onPress={action('pressed')}>
        Press Me
      </Button>
      <Button outline onPress={action('pressed')}>
        Press Me
      </Button>
      <Button transparent onPress={action('pressed')}>
        Press Me
      </Button>
    </Stack>
  </Story>
</Preview>

# Loading

<Preview>
  <Story name="loading">
    <Button loading onPress={action('pressed')}>
      Press Me
    </Button>
  </Story>
</Preview>

# Disabled

<Preview>
  <Story name="disabled">
    <Button disabled onPress={action('pressed')}>
      Press Me
    </Button>
  </Story>
</Preview>

# Length

Button `length` can either be `short` or `long`. Default is long so no need to provide that. Length can further be configured by using `width` prop along with `length="short"`.

<Preview>
  <Story name="length">
    <Stack>
      <Button length="short" onPress={action('pressed')}>
        Press Me
      </Button>
      <Button length="long" onPress={action('pressed')}>
        Press Me
      </Button>
    </Stack>
  </Story>
</Preview>

# Color

There are three different brand color available along with all the colors available in colors object. `primary`, `secondary` and `tertiary`.
You can even reassign these brand colors using `theme.colors.primary = 'blue'`

<Preview>
  <Story name="color">
    <Stack>
      <Button color="primary" onPress={action('pressed')}>
        Press Me
      </Button>
      <Button color="secondary" onPress={action('pressed')}>
        Press Me
      </Button>
    </Stack>
  </Story>
</Preview>

# Icon

You can directly pass any icon via icon props.

> Icon size and color should be defined by developers manually according to button size.

<Preview>
  <Story name="icon">
    <Button
      icon={<Feather name="user" size={24} color="white" />}
      onPress={action('pressed')}>
      Login
    </Button>
  </Story>
</Preview>

# Size

There are 7 different size of buttons.

<Preview>
  <Story name="size">
    <Stack>
      <Button size="xs" onPress={action('pressed')}>
        Press Me
      </Button>
      <Button size="xs" onPress={action('pressed')}>
        Press Me
      </Button>
      <Button size="sm" onPress={action('pressed')}>
        Press Me
      </Button>
      <Button size="md" onPress={action('pressed')}>
        Press Me
      </Button>
      <Button size="lg" onPress={action('pressed')}>
        Press Me
      </Button>
      <Button size="xl" onPress={action('pressed')}>
        Press Me
      </Button>
      <Button size="2xl" onPress={action('pressed')}>
        Press Me
      </Button>
    </Stack>
  </Story>
</Preview>

# Width

Must be used with `type="short"`.

<Preview>
  <Story name="width">
    <Stack>
      <Button length="short" width="xxsmall" onPress={action('pressed')}>
        Press Me
      </Button>
      <Button length="short" width="xsmall" onPress={action('pressed')}>
        Press Me
      </Button>
      <Button length="short" width="small" onPress={action('pressed')}>
        Press Me
      </Button>
      <Button length="short" width="md" onPress={action('pressed')}>
        Press Me
      </Button>
      <Button length="short" width="large" onPress={action('pressed')}>
        Press Me
      </Button>
      <Button length="short" width="xlarge" onPress={action('pressed')}>
        Press Me
      </Button>
      <Button length="short" width="xxlarge" onPress={action('pressed')}>
        Press Me
      </Button>
    </Stack>
  </Story>
</Preview>

# Tint

Tint is a boolean property which allows you to enable or disable transpent tint of outline button. Pass `tint={false}` to make the background of outline button totally transparent.

<Preview>
  <Story name="tint">
    <Button outline tint={false} onPress={action('pressed')}>
      Login
    </Button>
  </Story>
</Preview>

# IconButton

This is another variant of Button exported as IconButton

<Preview>
  <Story name="iconbutton">
    <IconButton icon={<Feather name="plus" size={20} color="blue" />} />
  </Story>
</Preview>

# Playground

Play with Button in Canvas mode.

<Story name="playground" parameters={{decorators: [withKnobs]}}>
  <Button
    size={select('size', sizeArray, 'md')}
    width={select('width', sizeArray, 'md')}
    color={select('color', ['primary', 'secondary', 'tertiary'], 'primary')}
    length={select('length', ['long', 'short'], 'long')}
    round={boolean('round', false)}
    outline={boolean('outline', false)}
    transparent={boolean('transparent', false)}
    loading={boolean('loading', false)}
    disabled={boolean('disabled', false)}
    tint={boolean('tint', true)}
    onPress={action('pressed')}>
    Press Me
  </Button>
</Story>
